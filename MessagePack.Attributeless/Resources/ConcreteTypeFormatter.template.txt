public class {{IdentifierTypeName}}Formatter: IMessagePackFormatter{{FullTypeName}}
{
	public {{FullTypeName}} Deserialize(ref MessagePackReader reader, MessagePackSerializerOptions options)
	{
		if (reader.TryReadNil()) return default;

		return new {{FullTypeName}}
		{
			{% for property in Properties %}
			{{property.Name}} = options.Resolver.GetFormatterWithVerify<{{property.Type}}>().Deserialize(ref reader, options),
			{% endfor %}
		};
	}
	public void Serialize(ref MessagePackWriter writer, {{FullTypeName}} value, MessagePackSerializerOptions options) 
	{ 
		if (value == null)
		{
			writer.WriteNil();
			return;
		}

		{% for property in Properties %}
		options.Resolver.GetFormatterWithVerify<{{property.Type}}>().Serialize(ref writer, value.{{property.Name}}, options);
		{% endfor %}
	}
}
